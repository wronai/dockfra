*{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:#0f1117;--bg2:#1a1d27;--bg3:#232638;
  --text:#e8eaf6;--muted:#8892b0;--accent:#7c83f5;
  --green:#4ade80;--red:#f87171;--yellow:#fbbf24;
  --border:#2d3154;--radius:10px;
}
body{background:var(--bg);color:var(--text);font-family:'Segoe UI',system-ui,sans-serif;height:100vh;display:flex;flex-direction:column}
header{background:var(--bg2);border-bottom:1px solid var(--border);padding:12px 20px;display:flex;align-items:center;gap:12px}
header .logo{font-size:1.3rem;font-weight:700;color:var(--accent)}
header .sub{color:var(--muted);font-size:.85rem}
.status-bar{margin-left:auto;display:flex;gap:8px;align-items:center;font-size:.8rem;color:var(--muted)}
.dot{width:8px;height:8px;border-radius:50%;background:var(--green);animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.4}}

.main{display:flex;flex:1;overflow:hidden;position:relative}
.chat-panel{width:25%;display:flex;flex-direction:column;min-width:200px;position:relative}
.processes-panel{width:20%;min-width:200px;background:var(--bg2);border-left:1px solid var(--border);display:flex;flex-direction:column;position:relative}
.log-panel{width:55%;min-width:200px;background:var(--bg2);border-left:1px solid var(--border);display:flex;flex-direction:column;position:relative}
.resize-handle{position:absolute;top:0;bottom:0;width:4px;background:transparent;cursor:col-resize;z-index:10}
.resize-handle:hover{background:var(--accent)}
.resize-handle.left{left:-2px}
.resize-handle.right{right:-2px}
.processes-panel h3{padding:10px 14px;font-size:.8rem;text-transform:uppercase;letter-spacing:.08em;color:var(--muted);border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between}
#processes-list{flex:1;overflow-y:auto;padding:10px 14px;font-family:'Cascadia Code','Fira Code',monospace;font-size:.75rem;line-height:1.6}
.process-item{display:flex;align-items:center;gap:8px;padding:4px 0;border-bottom:1px solid var(--border);position:relative}
.process-status{width:8px;height:8px;border-radius:50%;flex-shrink:0}
.process-status.running{background:var(--green)}
.process-status.stopped{background:var(--red)}
.process-status.unknown{background:var(--muted)}
.process-name{font-size:.7rem;color:var(--text);flex:1}
.process-details{font-size:.65rem;color:var(--muted);margin-left:auto;margin-right:8px}
.process-actions{position:relative;display:flex;gap:4px;align-items:center}
.process-actions select{background:var(--bg3);border:1px solid var(--border);color:var(--text);border-radius:4px;padding:2px 6px;font-size:.6rem;cursor:pointer}
.process-actions select:focus{outline:none;border-color:var(--accent)}
.process-icon-btn{background:transparent;border:none;color:var(--text);cursor:pointer;padding:2px;font-size:.8rem;border-radius:3px;transition:all .2s;position:relative}
.process-icon-btn:hover{background:var(--bg3);color:var(--accent)}
.process-icon-btn:active{transform:scale(0.9)}
.tooltip{position:absolute;bottom:100%;left:50%;transform:translateX(-50%);background:var(--bg2);border:1px solid var(--border);color:var(--text);padding:4px 8px;border-radius:4px;font-size:.6rem;white-space:nowrap;opacity:0;pointer-events:none;transition:opacity .2s;z-index:1000;margin-bottom:4px}
.tooltip::after{content:'';position:absolute;top:100%;left:50%;transform:translateX(-50%);border:4px solid transparent;border-top-color:var(--bg2)}
.process-icon-btn:hover .tooltip{opacity:1}
.chat-header{padding:10px 14px;font-size:.8rem;text-transform:uppercase;letter-spacing:.08em;color:var(--muted);border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;flex-shrink:0}
.copy-btn{font-size:0.7rem;padding:4px 8px;background:var(--bg3);border:1px solid var(--border);border-radius:4px;cursor:pointer;color:var(--text);transition:all .2s}
.copy-btn:hover{background:var(--accent);color:#fff;border-color:var(--accent)}
.msg{position:relative}
.msg-copy{position:absolute;top:5px;right:5px;width:20px;height:20px;background:var(--bg3);border:1px solid var(--border);border-radius:4px;display:none;align-items:center;justify-content:center;cursor:pointer;font-size:.7rem;opacity:0;transition:opacity .2s}
.msg:hover .msg-copy{display:flex;opacity:1}
.msg-copy:hover{background:var(--accent);color:#fff}
.log-panel h3{padding:10px 14px;font-size:.8rem;text-transform:uppercase;letter-spacing:.08em;color:var(--muted);border-bottom:1px solid var(--border)}
#log-output{flex:1;overflow-y:auto;padding:10px 14px;font-family:'Cascadia Code','Fira Code',monospace;font-size:.75rem;color:#6ee7b7;line-height:1.6}
.log-line{white-space:pre-wrap;word-break:break-all}
.log-line.err{color:var(--red)}

#chat{flex:1;overflow-y:auto;padding:20px;display:flex;flex-direction:column;gap:12px;scroll-behavior:smooth}
#widgets{padding:0 20px 16px;display:flex;flex-direction:column;gap:10px}

/* messages */
.msg{display:flex;gap:10px;max-width:85%;animation:fadein .2s ease}
@keyframes fadein{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}
.msg.bot{align-self:flex-start}
.msg.user{align-self:flex-end;flex-direction:row-reverse}
.avatar{width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1rem;flex-shrink:0}
.msg.bot .avatar{background:var(--bg3);border:1px solid var(--border)}
.msg.user .avatar{background:var(--accent)}
.bubble{background:var(--bg2);border:1px solid var(--border);border-radius:var(--radius);padding:10px 14px;font-size:.9rem;line-height:1.6}
.msg.user .bubble{background:var(--accent);border-color:transparent;color:#fff}
.bubble h1{font-size:1.2rem;margin-bottom:4px;color:var(--accent)}
.bubble h2{font-size:1rem;margin-bottom:4px;color:var(--accent)}
.bubble h3{font-size:.9rem;margin-bottom:2px}
.bubble strong{color:var(--accent)}
.bubble code{background:var(--bg3);border-radius:4px;padding:1px 5px;font-family:monospace;font-size:.85em}
.bubble pre{background:var(--bg3);border-radius:6px;padding:10px;overflow-x:auto;font-size:.8em;margin-top:6px}

/* widgets */
.w-buttons{display:flex;flex-wrap:wrap;gap:8px}
.btn{padding:8px 16px;border-radius:8px;border:1px solid var(--border);background:var(--bg3);color:var(--text);cursor:pointer;font-size:.88rem;transition:all .15s}
.btn:hover{background:var(--accent);border-color:var(--accent);color:#fff;transform:translateY(-1px)}
.btn.primary{background:var(--accent);border-color:var(--accent);color:#fff}

.w-form{background:var(--bg2);border:1px solid var(--border);border-radius:var(--radius);padding:16px;display:flex;flex-direction:column;gap:12px}
.field{display:flex;flex-direction:column;gap:4px}
.field label{font-size:.8rem;color:var(--muted);text-transform:uppercase;letter-spacing:.05em}
.field input,.field select{background:var(--bg3);border:1px solid var(--border);color:var(--text);border-radius:6px;padding:8px 12px;font-size:.9rem;width:100%}
.field input:focus,.field select:focus{outline:none;border-color:var(--accent)}
.field-input-wrap{position:relative;display:flex;align-items:center}
.field-input-wrap input{flex:1;padding-right:36px}
.eye-btn{position:absolute;right:6px;background:transparent;border:none;color:var(--muted);cursor:pointer;font-size:.95rem;padding:4px;border-radius:4px;transition:color .15s,opacity .15s;opacity:.55;line-height:1}
.eye-btn:hover{color:var(--accent);opacity:1}
.eye-btn.active{color:var(--accent);opacity:1}
.field select option{background:var(--bg3)}
.field-hint{font-size:.72rem;color:var(--muted);margin-top:3px;padding-left:2px;font-style:italic}

/* clickable suggestion chips */
.field-chips{display:flex;flex-wrap:wrap;gap:5px;margin-top:6px}
.chip{padding:3px 10px;border-radius:20px;border:1px solid var(--border);background:var(--bg3);
      color:var(--muted);font-size:.72rem;cursor:pointer;transition:all .15s;white-space:nowrap;
      max-width:200px;overflow:hidden;text-overflow:ellipsis}
.chip:hover{border-color:var(--accent);color:var(--accent);background:var(--bg2)}
.chip.active{border-color:var(--accent);background:var(--accent);color:#fff}

.w-code{background:var(--bg3);border:1px solid var(--border);border-radius:var(--radius);padding:12px 16px;font-family:'Cascadia Code','Fira Code',monospace;font-size:.8rem;color:#6ee7b7;white-space:pre-wrap;word-break:break-all;max-height:300px;overflow-y:auto}

.w-status{display:flex;flex-direction:column;gap:6px}
.status-item{display:flex;align-items:center;gap:10px;background:var(--bg2);border:1px solid var(--border);border-radius:8px;padding:8px 12px;font-size:.85rem}
.status-dot{width:10px;height:10px;border-radius:50%;flex-shrink:0}
.status-dot.ok{background:var(--green)}
.status-dot.err{background:var(--red)}
.status-name{font-weight:600;flex:1}
.status-detail{color:var(--muted);font-size:.78rem}

.w-progress{display:flex;align-items:center;gap:10px;padding:6px 2px;font-size:.85rem;color:var(--muted)}
.spin{width:16px;height:16px;border:2px solid var(--border);border-top-color:var(--accent);border-radius:50%;animation:spin .7s linear infinite;flex-shrink:0}
@keyframes spin{to{transform:rotate(360deg)}}
.w-progress.done{color:var(--green)}
.w-progress.done .spin{border-color:var(--green);border-top-color:var(--green);animation:none}
.w-progress.err{color:var(--red)}

/* scrollbars */
::-webkit-scrollbar{width:6px;height:6px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}
